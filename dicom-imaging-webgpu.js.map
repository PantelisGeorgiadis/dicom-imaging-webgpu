{"version":3,"file":"dicom-imaging-webgpu.js","sources":["../node_modules/dicom-parser/dist/dicomParser.min.js","../dist/PipelineCache.js","../dist/Pipeline.js","../dist/shaders.js","../dist/utils.js","../dist/index.js"],"sourcesContent":["/*! dicom-parser - 1.8.12 - 2023-02-20 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"zlib\")):\"function\"==typeof define&&define.amd?define(\"dicom-parser\",[\"zlib\"],t):\"object\"==typeof exports?exports[\"dicom-parser\"]=t(require(\"zlib\")):e.dicomParser=t(e.zlib)}(this,function(r){return a=[function(e,t){e.exports=r},function(e,t,s){\"use strict\";s.r(t),s.d(t,\"isStringVr\",function(){return d}),s.d(t,\"isPrivateTag\",function(){return f}),s.d(t,\"parsePN\",function(){return a}),s.d(t,\"parseTM\",function(){return n}),s.d(t,\"parseDA\",function(){return o}),s.d(t,\"explicitElementToString\",function(){return l}),s.d(t,\"explicitDataSetToJS\",function(){return u}),s.d(t,\"createJPEGBasicOffsetTable\",function(){return p}),s.d(t,\"parseDicomDataSetExplicit\",function(){return q}),s.d(t,\"parseDicomDataSetImplicit\",function(){return T}),s.d(t,\"readFixedString\",function(){return b}),s.d(t,\"alloc\",function(){return k}),s.d(t,\"version\",function(){return L}),s.d(t,\"bigEndianByteArrayParser\",function(){return N}),s.d(t,\"ByteStream\",function(){return J}),s.d(t,\"sharedCopy\",function(){return j}),s.d(t,\"DataSet\",function(){return w}),s.d(t,\"findAndSetUNElementLength\",function(){return y}),s.d(t,\"findEndOfEncapsulatedElement\",function(){return g}),s.d(t,\"findItemDelimitationItemAndSetElementLength\",function(){return x}),s.d(t,\"littleEndianByteArrayParser\",function(){return M}),s.d(t,\"parseDicom\",function(){return V}),s.d(t,\"readDicomElementExplicit\",function(){return B}),s.d(t,\"readDicomElementImplicit\",function(){return A}),s.d(t,\"readEncapsulatedImageFrame\",function(){return W}),s.d(t,\"readEncapsulatedPixelData\",function(){return K}),s.d(t,\"readEncapsulatedPixelDataFromFragments\",function(){return _}),s.d(t,\"readPart10Header\",function(){return G}),s.d(t,\"readSequenceItemsExplicit\",function(){return I}),s.d(t,\"readSequenceItemsImplicit\",function(){return F}),s.d(t,\"readSequenceItem\",function(){return S}),s.d(t,\"readTag\",function(){return h});var r={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},d=function(e){return r[e]},f=function(e){e=parseInt(e[4],16);if(isNaN(e))throw\"dicomParser.isPrivateTag: cannot parse last character of group\";return e%2==1},a=function(e){if(void 0!==e){e=e.split(\"^\");return{familyName:e[0],givenName:e[1],middleName:e[2],prefix:e[3],suffix:e[4]}}};function n(e,t){if(2<=e.length){var r=parseInt(e.substring(0,2),10),a=4<=e.length?parseInt(e.substring(2,4),10):void 0,n=6<=e.length?parseInt(e.substring(4,6),10):void 0,i=8<=e.length?e.substring(7,13):void 0,i=i?parseInt(i,10)*Math.pow(10,6-i.length):void 0;if(t&&(isNaN(r)||void 0!==a&&isNaN(a)||void 0!==n&&isNaN(n)||void 0!==i&&isNaN(i)||r<0||23<r||a&&(a<0||59<a)||n&&(n<0||59<n)||i&&(i<0||999999<i)))throw\"invalid TM '\".concat(e,\"'\");return{hours:r,minutes:a,seconds:n,fractionalSeconds:i}}if(t)throw\"invalid TM '\".concat(e,\"'\")}function i(e,t,r){return!isNaN(r)&&(0<t&&t<=12&&0<e&&e<=function(e,t){switch(e){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(t,r))}function o(e,t){if(e&&8===e.length){var r=parseInt(e.substring(0,4),10),a=parseInt(e.substring(4,6),10),n=parseInt(e.substring(6,8),10);if(t&&!0!==i(n,a,r))throw\"invalid DA '\".concat(e,\"'\");return{year:r,month:a,day:n}}if(t)throw\"invalid DA '\".concat(e,\"'\")}function l(n,e){if(void 0===n||void 0===e)throw\"dicomParser.explicitElementToString: missing required parameters\";if(void 0===e.vr)throw\"dicomParser.explicitElementToString: cannot convert implicit element to string\";var t,r=e.vr,i=e.tag;function a(e,t){for(var r=\"\",a=0;a<e;a++)0!==a&&(r+=\"/\"),r+=t.call(n,i,a).toString();return r}if(!0===d(r))t=n.string(i);else{if(\"AT\"===r){var o=n.uint32(i);return void 0===o?void 0:\"x\".concat((o=o<0?4294967295+o+1:o).toString(16).toUpperCase())}\"US\"===r?t=a(e.length/2,n.uint16):\"SS\"===r?t=a(e.length/2,n.int16):\"UL\"===r?t=a(e.length/4,n.uint32):\"SL\"===r?t=a(e.length/4,n.int32):\"FD\"===r?t=a(e.length/8,n.double):\"FL\"===r&&(t=a(e.length/4,n.float))}return t}function u(e,t){if(void 0===e)throw\"dicomParser.explicitDataSetToJS: missing required parameter dataSet\";t=t||{omitPrivateAttibutes:!0,maxElementLength:128};var r,a={};for(r in e.elements){var n=e.elements[r];if(!0!==t.omitPrivateAttibutes||!f(r))if(n.items){for(var i=[],o=0;o<n.items.length;o++)i.push(u(n.items[o].dataSet,t));a[r]=i}else{var s=void 0;n.length<t.maxElementLength&&(s=l(e,n)),a[r]=void 0!==s?s:{dataOffset:n.dataOffset,length:n.length}}}return a}function c(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function m(e,t,r){for(var a,n,i=r;i<t.fragments.length;i++)if(a=e,n=i,n=t.fragments[n],!(!c(a,n.position+n.length-2)&&!c(a,n.position+n.length-3)))return i}function p(e,t,r){if(void 0===e)throw\"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet\";if(void 0===t)throw\"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement\";if(\"x7fe00010\"!==t.tag)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'\";if(!0!==t.encapsulatedPixelData)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(!0!==t.hadUndefinedLength)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.basicOffsetTable)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.fragments)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(t.fragments.length<=0)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(r&&r.length<=0)throw\"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length\";r=r||t.fragments;for(var a=[],n=0;;){a.push(t.fragments[n].offset);var i=m(e,t,n);if(void 0===i||i===t.fragments.length-1)return a;n=i+1}}function h(e){if(void 0===e)throw\"dicomParser.readTag: missing required parameter 'byteStream'\";var t=256*e.readUint16()*256,e=e.readUint16();return\"x\".concat(\"00000000\".concat((t+e).toString(16)).substr(-8))}function g(e,t,r){if(void 0===e)throw\"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'\";if(void 0===t)throw\"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'\";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],\"xfffee000\"!==h(e))throw\"dicomParser.findEndOfEncapsulatedElement: basic offset table not found\";for(var a=e.readUint32()/4,n=0;n<a;n++){var i=e.readUint32();t.basicOffsetTable.push(i)}for(var o=e.position;e.position<e.byteArray.length;){var s=h(e),d=e.readUint32();if(\"xfffee0dd\"===s)return e.seek(d),void(t.length=e.position-t.dataOffset);if(\"xfffee000\"!==s)return r&&r.push(\"unexpected tag \".concat(s,\" while searching for end of pixel data element with undefined length\")),d>e.byteArray.length-e.position&&(d=e.byteArray.length-e.position),t.fragments.push({offset:e.position-o-8,position:e.position,length:d}),e.seek(d),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-o-8,position:e.position,length:d}),e.seek(d)}r&&r.push(\"pixel data element \".concat(t.tag,\" missing sequence delimiter tag xfffee0dd\"))}function y(e,t){if(void 0===e)throw\"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'\";for(var r=e.byteArray.length-8;e.position<=r;)if(65534===e.readUint16()){var a=e.readUint16();if(57565===a)return 0!==e.readUint32()&&e.warnings(\"encountered non zero length following item delimiter at position \".concat(e.position-4,\" while reading element of undefined length with tag \").concat(t.tag)),void(t.length=e.position-t.dataOffset)}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}function b(e,t,r){if(r<0)throw\"dicomParser.readFixedString - length cannot be less than 0\";if(t+r>e.length)throw\"dicomParser.readFixedString: attempt to read past end of buffer\";for(var a,n=\"\",i=0;i<r;i++){if(0===(a=e[t+i]))return t+=r,n;n+=String.fromCharCode(a)}return n}function v(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e,t){return void 0!==e.parser?e.parser:t}var w=function(){function a(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),this.byteArrayParser=e,this.byteArray=t,this.elements=r}var e,t,r;return e=a,(t=[{key:\"uint16\",value:function(e,t){e=this.elements[e];if(t=void 0!==t?t:0,e&&0!==e.length)return P(e,this.byteArrayParser).readUint16(this.byteArray,e.dataOffset+2*t)}},{key:\"int16\",value:function(e,t){e=this.elements[e];if(t=void 0!==t?t:0,e&&0!==e.length)return P(e,this.byteArrayParser).readInt16(this.byteArray,e.dataOffset+2*t)}},{key:\"uint32\",value:function(e,t){e=this.elements[e];if(t=void 0!==t?t:0,e&&0!==e.length)return P(e,this.byteArrayParser).readUint32(this.byteArray,e.dataOffset+4*t)}},{key:\"int32\",value:function(e,t){e=this.elements[e];if(t=void 0!==t?t:0,e&&0!==e.length)return P(e,this.byteArrayParser).readInt32(this.byteArray,e.dataOffset+4*t)}},{key:\"float\",value:function(e,t){e=this.elements[e];if(t=void 0!==t?t:0,e&&0!==e.length)return P(e,this.byteArrayParser).readFloat(this.byteArray,e.dataOffset+4*t)}},{key:\"double\",value:function(e,t){e=this.elements[e];if(t=void 0!==t?t:0,e&&0!==e.length)return P(e,this.byteArrayParser).readDouble(this.byteArray,e.dataOffset+8*t)}},{key:\"numStringValues\",value:function(e){e=this.elements[e];if(e&&0<e.length){e=b(this.byteArray,e.dataOffset,e.length).match(/\\\\/g);return null===e?1:e.length+1}}},{key:\"string\",value:function(e,t){e=this.elements[e];if(e&&e.Value)return e.Value;if(e&&0<e.length){e=b(this.byteArray,e.dataOffset,e.length);return 0<=t?e.split(\"\\\\\")[t].trim():e.trim()}}},{key:\"text\",value:function(e,t){e=this.elements[e];if(e&&0<e.length){e=b(this.byteArray,e.dataOffset,e.length);return 0<=t?e.split(\"\\\\\")[t].replace(/ +$/,\"\"):e.replace(/ +$/,\"\")}}},{key:\"floatString\",value:function(e,t){var r=this.elements[e];if(r&&0<r.length){t=this.string(e,t=void 0!==t?t:0);if(void 0!==t)return parseFloat(t)}}},{key:\"intString\",value:function(e,t){var r=this.elements[e];if(r&&0<r.length){t=this.string(e,t=void 0!==t?t:0);if(void 0!==t)return parseInt(t)}}},{key:\"attributeTag\",value:function(e){var t=this.elements[e];if(t&&4===t.length){var r=P(t,this.byteArrayParser).readUint16,e=this.byteArray,t=t.dataOffset;return\"x\".concat(\"00000000\".concat((256*r(e,t)*256+r(e,t+2)).toString(16)).substr(-8))}}}])&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}();function x(e,t){if(void 0===e)throw\"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'\";for(var r=e.byteArray.length-8;e.position<=r;)if(65534===e.readUint16()){var a=e.readUint16();if(57357===a)return 0!==e.readUint32()&&e.warnings(\"encountered non zero length following item delimiter at position \".concat(e.position-4,\" while reading element of undefined length with tag \").concat(t.tag)),void(t.length=e.position-t.dataOffset)}t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}var E=function(e,t){if(void 0!==e.vr)return\"SQ\"===e.vr;if(t.position+4<=t.byteArray.length){e=h(t);return t.seek(-4),\"xfffee000\"===e||\"xfffee0dd\"===e}return t.warnings.push(\"eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR\"),!1};function A(e,t,r){if(void 0===e)throw\"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'\";var a=h(e),a={tag:a,vr:void 0!==r?r(a):void 0,length:e.readUint32(),dataOffset:e.position};return 4294967295===a.length&&(a.hadUndefinedLength=!0),a.tag===t||(!E(a,e)||f(a.tag)&&!a.hadUndefinedLength?a.hadUndefinedLength?x(e,a):e.seek(a.length):(F(e,a,r),f(a.tag)&&(a.items=void 0))),a}function S(e){if(void 0===e)throw\"dicomParser.readSequenceItem: missing required parameter 'byteStream'\";var t={tag:h(e),length:e.readUint32(),dataOffset:e.position};if(\"xfffee000\"!==t.tag)throw\"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset \".concat(e.position);return t}function D(e,t){var r=S(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=function(e,t){for(var r={};e.position<e.byteArray.length;){var a=A(e,void 0,t);if(\"xfffee00d\"===(r[a.tag]=a).tag)return new w(e.byteArrayParser,e.byteArray,r)}return e.warnings.push(\"eof encountered before finding sequence item delimiter in sequence item of undefined length\"),new w(e.byteArrayParser,e.byteArray,r)}(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new w(e.byteArrayParser,e.byteArray,{}),T(r.dataSet,e,e.position+r.length,{vrCallback:t})),r}function F(e,t,r){if(void 0===e)throw\"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'\";if(void 0===t)throw\"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'\";t.items=[],(4294967295===t.length?function(e,t,r){for(;e.position+4<=e.byteArray.length;){var a=h(e);if(e.seek(-4),\"xfffee0dd\"===a)return t.length=e.position-t.dataOffset,e.seek(8);a=D(e,r);t.items.push(a)}e.warnings.push(\"eof encountered before finding sequence delimiter in sequence of undefined length\"),t.length=e.byteArray.length-t.dataOffset}:function(e,t,r){for(var a=t.dataOffset+t.length;e.position<a;){var n=D(e,r);t.items.push(n)}})(e,t,r)}function O(e,t){var r=S(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=function(e,t){for(var r={};e.position<e.byteArray.length;){var a=B(e,t);if(\"xfffee00d\"===(r[a.tag]=a).tag)return new w(e.byteArrayParser,e.byteArray,r)}return t.push(\"eof encountered before finding item delimiter tag while reading sequence item of undefined length\"),new w(e.byteArrayParser,e.byteArray,r)}(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new w(e.byteArrayParser,e.byteArray,{}),q(r.dataSet,e,e.position+r.length)),r}function I(e,t,r){if(void 0===e)throw\"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'\";if(void 0===t)throw\"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'\";t.items=[],(4294967295===t.length?function(e,t,r){for(;e.position+4<=e.byteArray.length;){var a=h(e);if(e.seek(-4),\"xfffee0dd\"===a)return t.length=e.position-t.dataOffset,e.seek(8);a=O(e,r);t.items.push(a)}r.push(\"eof encountered before finding sequence delimitation tag while reading sequence of undefined length\"),t.length=e.position-t.dataOffset}:function(e,t,r){for(var a=t.dataOffset+t.length;e.position<a;){var n=O(e,r);t.items.push(n)}})(e,t,r)}var U=function(e){return\"OB\"===e||\"OD\"===e||\"OL\"===e||\"OW\"===e||\"SQ\"===e||\"OF\"===e||\"UC\"===e||\"UR\"===e||\"UT\"===e||\"UN\"===e?4:2};function B(e,t,r){if(void 0===e)throw\"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'\";var a={tag:h(e),vr:e.readFixedString(2)};return 2===U(a.vr)?a.length=e.readUint16():(e.seek(2),a.length=e.readUint32()),a.dataOffset=e.position,4294967295===a.length&&(a.hadUndefinedLength=!0),a.tag===r||(\"SQ\"===a.vr?I(e,a,t):4294967295===a.length?\"x7fe00010\"===a.tag?g(e,a,t):(\"UN\"===a.vr?F:x)(e,a):e.seek(a.length)),a}function q(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?t.byteArray.length:r,void 0===t)throw\"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'\";if(r<t.position||r>t.byteArray.length)throw\"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'\";for(var n=e.elements;t.position<r;){var i=B(t,e.warnings,a.untilTag);if((n[i.tag]=i).tag===a.untilTag)return}if(t.position>r)throw\"dicomParser:parseDicomDataSetExplicit: buffer overrun\"}function T(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?e.byteArray.length:r,void 0===t)throw\"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'\";if(r<t.position||r>t.byteArray.length)throw\"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'\";for(var n=e.elements;t.position<r;){var i=A(t,a.untilTag,a.vrCallback);if((n[i.tag]=i).tag===a.untilTag)return}}function k(e,t){if(\"undefined\"!=typeof Buffer&&e instanceof Buffer)return Buffer.alloc(t);if(e instanceof Uint8Array)return new Uint8Array(t);throw\"dicomParser.alloc: unknown type for byteArray\"}var L=\"1.8.12\",N={readUint16:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readUint16: position cannot be less than 0\";if(t+2>e.length)throw\"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer\";return(e[t]<<8)+e[t+1]},readInt16:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readInt16: position cannot be less than 0\";if(t+2>e.length)throw\"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer\";t=(e[t]<<8)+e[t+1];return t=32768&t?t-65535-1:t},readUint32:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readUint32: position cannot be less than 0\";if(t+4>e.length)throw\"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer\";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readInt32: position cannot be less than 0\";if(t+4>e.length)throw\"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer\";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readFloat: position cannot be less than 0\";if(t+4>e.length)throw\"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer\";var r=new Uint8Array(4);return r[3]=e[t],r[2]=e[t+1],r[1]=e[t+2],r[0]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw\"bigEndianByteArrayParser.readDouble: position cannot be less than 0\";if(t+8>e.length)throw\"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer\";var r=new Uint8Array(8);return r[7]=e[t],r[6]=e[t+1],r[5]=e[t+2],r[4]=e[t+3],r[3]=e[t+4],r[2]=e[t+5],r[1]=e[t+6],r[0]=e[t+7],new Float64Array(r.buffer)[0]}};function j(e,t,r){if(\"undefined\"!=typeof Buffer&&e instanceof Buffer)return e.slice(t,t+r);if(e instanceof Uint8Array)return new Uint8Array(e.buffer,e.byteOffset+t,r);throw\"dicomParser.from: unknown type for byteArray\"}function C(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var J=function(){function a(e,t,r){if(!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),void 0===e)throw\"dicomParser.ByteStream: missing required parameter 'byteArrayParser'\";if(void 0===t)throw\"dicomParser.ByteStream: missing required parameter 'byteArray'\";if(t instanceof Uint8Array==!1&&(\"undefined\"==typeof Buffer||t instanceof Buffer==!1))throw\"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer\";if(r<0)throw\"dicomParser.ByteStream: parameter 'position' cannot be less than 0\";if(r>=t.length)throw\"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length\";this.byteArrayParser=e,this.byteArray=t,this.position=r||0,this.warnings=[]}var e,t,r;return e=a,(t=[{key:\"seek\",value:function(e){if(this.position+e<0)throw\"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0\";this.position+=e}},{key:\"readByteStream\",value:function(e){if(this.position+e>this.byteArray.length)throw\"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread\";var t=j(this.byteArray,this.position,e);return this.position+=e,new a(this.byteArrayParser,t)}},{key:\"getSize\",value:function(){return this.byteArray.length}},{key:\"readUint16\",value:function(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:\"readUint32\",value:function(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:\"readFixedString\",value:function(e){var t=b(this.byteArray,this.position,e);return this.position+=e,t}}])&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,\"prototype\",{writable:!1}),a}(),M={readUint16:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readUint16: position cannot be less than 0\";if(t+2>e.length)throw\"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer\";return e[t]+256*e[t+1]},readInt16:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readInt16: position cannot be less than 0\";if(t+2>e.length)throw\"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer\";t=e[t]+(e[t+1]<<8);return t=32768&t?t-65535-1:t},readUint32:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readUint32: position cannot be less than 0\";if(t+4>e.length)throw\"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer\";return e[t]+256*e[t+1]+256*e[t+2]*256+256*e[t+3]*256*256},readInt32:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readInt32: position cannot be less than 0\";if(t+4>e.length)throw\"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer\";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readFloat: position cannot be less than 0\";if(t+4>e.length)throw\"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer\";var r=new Uint8Array(4);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw\"littleEndianByteArrayParser.readDouble: position cannot be less than 0\";if(t+8>e.length)throw\"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer\";var r=new Uint8Array(8);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7],new Float64Array(r.buffer)[0]}};function G(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e)throw\"dicomParser.readPart10Header: missing required parameter 'byteArray'\";var o=i.TransferSyntaxUID,s=new J(M,e);return function(){var e=function(){if(s.getSize()<=132&&o)return!1;if(s.seek(128),\"DICM\"===s.readFixedString(4))return!0;if(!(i||{}).TransferSyntaxUID)throw\"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file.\";return s.seek(0),!1}(),t=[],r={};if(!e)return s.position=0,{elements:{x00020010:{tag:\"x00020010\",vr:\"UI\",Value:o}},warnings:t};for(;s.position<s.byteArray.length;){var a=s.position,n=B(s,t);if(\"x0002ffff\"<n.tag){s.position=a;break}n.parser=M,r[n.tag]=n}return(e=new w(s.byteArrayParser,s.byteArray,r)).warnings=s.warnings,e.position=s.position,e}()}var z=\"1.2.840.10008.1.2.2\";function V(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0===i)throw new Error(\"dicomParser.parseDicom: missing required parameter 'byteArray'\");var e,a=function(e){if(void 0===e.elements.x00020010)throw new Error(\"dicomParser.parseDicom: missing required meta header attribute 0002,0010\");e=e.elements.x00020010;return e&&e.Value||b(i,e.dataOffset,e.length)};function t(t){var e=a(t),r=\"1.2.840.10008.1.2\"!==e,e=function(e,t){var r=\"[object process]\"===Object.prototype.toString.call(\"undefined\"!=typeof process?process:0);if(\"1.2.840.10008.1.2.1.99\"!==e)return new J(e===z?N:M,i,t);if(o&&o.inflater){e=o.inflater(i,t);return new J(M,e,0)}if(!0==r){var a=s(0),n=j(i,t,i.length-t),a=a.inflateRawSync(n),n=k(i,a.length+t);return i.copy(n,0,0,t),a.copy(n,t),new J(M,n,0)}if(\"undefined\"==typeof pako)throw\"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax\";return a=i.slice(t),n=pako.inflateRaw(a),(a=k(i,n.length+t)).set(i.slice(0,t),0),a.set(n,t),new J(M,a,0)}(e,t.position),t=new w(e.byteArrayParser,e.byteArray,{});t.warnings=e.warnings;try{(r?q:T)(t,e,e.byteArray.length,o)}catch(e){throw{exception:e,dataSet:t}}return t}return function(e,t){for(var r in e.elements)e.elements.hasOwnProperty(r)&&(t.elements[r]=e.elements[r]);return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}(e=G(i,o),t(e))}var R=function(e,t,r){for(var a=0,n=t;n<t+r;n++)a+=e[n].length;return a};function _(e,t,r,a,n){if(n=n||t.fragments,void 0===e)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'\";if(void 0===t)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'\";if(void 0===r)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'\";if(void 0===(a=a||1))throw\"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'\";if(\"x7fe00010\"!==t.tag)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010\";if(!0!==t.encapsulatedPixelData)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(!0!==t.hadUndefinedLength)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.basicOffsetTable)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.fragments)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(t.fragments.length<=0)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(r<0)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0\";if(r>=t.fragments.length)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments\";if(a<1)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0\";if(r+a>t.fragments.length)throw\"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments\";var i=new J(e.byteArrayParser,e.byteArray,t.dataOffset),t=S(i);if(\"xfffee000\"!==t.tag)throw\"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000\";i.seek(t.length);var o=i.position;if(1===a)return j(i.byteArray,o+n[r].offset+8,n[r].length);for(var t=R(n,r,a),s=k(i.byteArray,t),d=0,f=r;f<r+a;f++)for(var l=o+n[f].offset+8,u=0;u<n[f].length;u++)s[d++]=i.byteArray[l++];return s}var H=function(e,t){for(var r=0;r<e.length;r++)if(e[r].offset===t)return r},Q=function(e,t,r,a){if(e===t.length-1)return r.length-a;for(var n=t[e+1],i=a+1;i<r.length;i++)if(r[i].offset===n)return i-a;throw\"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table\"};function W(e,t,r,a,n){if(a=a||t.basicOffsetTable,n=n||t.fragments,void 0===e)throw\"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'\";if(void 0===t)throw\"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'\";if(void 0===r)throw\"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'\";if(void 0===a)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable\";if(\"x7fe00010\"!==t.tag)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)\";if(!0!==t.encapsulatedPixelData)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data\";if(!0!==t.hadUndefinedLength)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length\";if(void 0===t.fragments)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments\";if(0===a.length)throw\"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries\";if(r<0)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0\";if(r>=a.length)throw\"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length\";var i=a[r],i=H(n,i);if(void 0===i)throw\"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry\";return _(e,t,i,Q(r,a,n,i),n)}var $=!1;function K(e,t,r){if($||($=!0,console&&console.log&&console.log(\"WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated\")),void 0===e)throw\"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'\";if(void 0===t)throw\"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'\";if(void 0===r)throw\"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'\";if(\"x7fe00010\"!==t.tag)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)\";if(!0!==t.encapsulatedPixelData)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data\";if(!0!==t.hadUndefinedLength)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.basicOffsetTable)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data\";if(void 0===t.fragments)throw\"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data\";if(r<0)throw\"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0\";return 0!==t.basicOffsetTable.length?W(e,t,r):_(e,t,0,t.fragments.length)}t.default={isStringVr:d,isPrivateTag:f,parsePN:a,parseTM:n,parseDA:o,explicitElementToString:l,explicitDataSetToJS:u,createJPEGBasicOffsetTable:p,parseDicomDataSetExplicit:q,parseDicomDataSetImplicit:T,readFixedString:b,alloc:k,version:L,bigEndianByteArrayParser:N,ByteStream:J,sharedCopy:j,DataSet:w,findAndSetUNElementLength:y,findEndOfEncapsulatedElement:g,findItemDelimitationItemAndSetElementLength:x,littleEndianByteArrayParser:M,parseDicom:V,readDicomElementExplicit:B,readDicomElementImplicit:A,readEncapsulatedImageFrame:W,readEncapsulatedPixelData:K,readEncapsulatedPixelDataFromFragments:_,readPart10Header:G,readSequenceItemsExplicit:I,readSequenceItemsImplicit:F,readSequenceItem:S,readTag:h,LEI:\"1.2.840.10008.1.2\",LEE:\"1.2.840.10008.1.2.1\"}}],i={},n.m=a,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1);function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var a,i});\n//# sourceMappingURL=dicomParser.min.js.map","//#region PipelineCache\nexport class PipelineCache {\n    cache;\n    max;\n    /**\n     * Creates an instance of PipelineCache.\n     */\n    constructor(max) {\n        this.max = max;\n        this.cache = new Map();\n    }\n    /**\n     * Gets a pipeline from the cache.\n     */\n    get(key) {\n        const item = this.cache.get(key);\n        if (item) {\n            this.cache.delete(key);\n            this.cache.set(key, item);\n        }\n        return item;\n    }\n    /**\n     * Sets a pipeline to the cache.\n     */\n    set(key, value) {\n        if (this.cache.has(key)) {\n            this.cache.delete(key);\n        }\n        else if (this.cache.size === this.max) {\n            const firstKey = this.cache.keys().next().value;\n            if (firstKey !== undefined) {\n                this.cache.delete(firstKey);\n            }\n        }\n        this.cache.set(key, value);\n    }\n}\n//#endregion\n//# sourceMappingURL=PipelineCache.js.map","import { PipelineCache } from './PipelineCache';\nimport { GrayscaleShader } from './shaders';\n//#region Pipeline\nexport class Pipeline {\n    static pipelineCache = new PipelineCache(5);\n    /**\n     * Initializes the pipeline.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    initialize(gpuDevice) {\n        throw new Error('initialize should be implemented');\n    }\n    /**\n     * Renders using the pipeline.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async render(imageFrame, options) {\n        throw new Error('render should be implemented');\n    }\n    /**\n     * Creates the proper pipeline.\n     */\n    static create(gpuDevice, imageFrame) {\n        if (!imageFrame.photometricInterpretation) {\n            throw new Error('Photometric interpretation is required to construct a rendering pipeline');\n        }\n        const cachedPipeline = this.pipelineCache.get(imageFrame.photometricInterpretation);\n        if (cachedPipeline !== undefined) {\n            return cachedPipeline;\n        }\n        if (imageFrame.photometricInterpretation === 'MONOCHROME1' ||\n            imageFrame.photometricInterpretation === 'MONOCHROME2') {\n            const grayscalePipeline = new GrayscalePipeline();\n            grayscalePipeline.initialize(gpuDevice);\n            this.pipelineCache.set(imageFrame.photometricInterpretation, grayscalePipeline);\n            return grayscalePipeline;\n        }\n        else {\n            throw new Error(`Unsupported photometric interpretation: ${imageFrame.photometricInterpretation}`);\n        }\n    }\n}\n//#endregion\n//#region GrayscalePipeline\nclass GrayscalePipeline extends Pipeline {\n    device = undefined;\n    computePipeline = undefined;\n    bindGroupLayout = undefined;\n    /**\n     * Initializes the grayscale pipeline.\n     */\n    initialize(gpuDevice) {\n        // Shader module\n        const shaderModule = gpuDevice.createShaderModule({\n            label: 'Grayscale shader module',\n            code: GrayscaleShader,\n        });\n        // Bind group layout\n        const bindGroupLayout = gpuDevice.createBindGroupLayout({\n            label: 'Grayscale bind group layout',\n            entries: [\n                {\n                    binding: 0,\n                    visibility: GPUShaderStage.COMPUTE,\n                    buffer: {\n                        type: 'read-only-storage',\n                    },\n                },\n                {\n                    binding: 1,\n                    visibility: GPUShaderStage.COMPUTE,\n                    buffer: {\n                        type: 'storage',\n                    },\n                },\n            ],\n        });\n        // Pipeline layout\n        const pipelineLayout = gpuDevice.createPipelineLayout({\n            bindGroupLayouts: [bindGroupLayout],\n        });\n        // Compute pipeline\n        const computePipeline = gpuDevice.createComputePipeline({\n            label: 'Grayscale compute pipeline',\n            layout: pipelineLayout,\n            compute: {\n                module: shaderModule,\n                entryPoint: 'main',\n            },\n        });\n        this.device = gpuDevice;\n        this.bindGroupLayout = bindGroupLayout;\n        this.computePipeline = computePipeline;\n    }\n    /**\n     * Renders a grayscale image frame on GPU.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async render(imageFrame, options) {\n        if (this.device === undefined ||\n            this.computePipeline === undefined ||\n            this.bindGroupLayout === undefined) {\n            throw new Error('Pipeline is not initialized');\n        }\n        const { rows, columns, rescaleSlope, rescaleIntercept, windowCenter, windowWidth, pixelData, minPixelValue, maxPixelValue, photometricInterpretation, } = imageFrame;\n        const shouldInvert = photometricInterpretation === 'MONOCHROME1';\n        // Calculate the size of the pixel data as f32\n        // Add extra image frame parameters to front and meet 16-byte alignment\n        const dataSize = rows * columns * 4;\n        const bufferSize = dataSize + 32;\n        const alignedBufferSize = Math.ceil(bufferSize / 16) * 16;\n        // Create a buffer on the GPU to hold pixel computation input\n        const imageFrameBuffer = this.device.createBuffer({\n            label: 'Image frame buffer input',\n            size: alignedBufferSize,\n            usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST,\n        });\n        // Create a buffer on the GPU to hold pixel computation output\n        const renderedPixelDataBuffer = this.device.createBuffer({\n            label: 'Pixel data buffer output',\n            size: bufferSize,\n            usage: GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_SRC,\n        });\n        // Create a staging buffer\n        const stagingBuffer = this.device.createBuffer({\n            label: 'Pixel data staging buffer',\n            size: dataSize,\n            usage: GPUBufferUsage.MAP_READ | GPUBufferUsage.COPY_DST,\n        });\n        // Create bind group\n        const bindGroup = this.device.createBindGroup({\n            label: 'Grayscale bind group',\n            layout: this.bindGroupLayout,\n            entries: [\n                { binding: 0, resource: { buffer: imageFrameBuffer } },\n                { binding: 1, resource: { buffer: renderedPixelDataBuffer } },\n            ],\n        });\n        // Encode image frame parameters\n        this.device.queue.writeBuffer(imageFrameBuffer, 0, new Int32Array([columns, rows]));\n        this.device.queue.writeBuffer(imageFrameBuffer, 8, new Float32Array([rescaleSlope, rescaleIntercept]));\n        this.device.queue.writeBuffer(imageFrameBuffer, 16, new Float32Array([windowCenter, windowWidth]));\n        this.device.queue.writeBuffer(imageFrameBuffer, 24, new Float32Array([minPixelValue, maxPixelValue]));\n        // Set pixel data\n        const typedPixelData = pixelData;\n        const float32PixelData = new Float32Array(typedPixelData.length);\n        float32PixelData.set(typedPixelData);\n        this.device.queue.writeBuffer(imageFrameBuffer, 32, float32PixelData);\n        // Encode commands to do the computation\n        const encoder = this.device.createCommandEncoder({\n            label: 'Grayscale encoder',\n        });\n        const computePass = encoder.beginComputePass({\n            label: 'Grayscale compute pass',\n        });\n        computePass.setPipeline(this.computePipeline);\n        computePass.setBindGroup(0, bindGroup);\n        computePass.dispatchWorkgroups(Math.ceil(columns / 8), Math.ceil(rows / 8));\n        computePass.end();\n        // Copy the results to the staging buffer\n        encoder.copyBufferToBuffer(renderedPixelDataBuffer, 0, stagingBuffer, 0, dataSize);\n        // Finish encoding and submit the commands\n        const commandBuffer = encoder.finish();\n        this.device.queue.submit([commandBuffer]);\n        // Read the results\n        await stagingBuffer.mapAsync(GPUMapMode.READ, 0, dataSize);\n        const result = new Float32Array(stagingBuffer.getMappedRange(0, dataSize).slice());\n        stagingBuffer.unmap();\n        // Destroy buffers\n        stagingBuffer.destroy();\n        imageFrameBuffer.destroy();\n        renderedPixelDataBuffer.destroy();\n        const rgbaPixels = new Uint8Array(4 * rows * columns);\n        for (let i = 0, p = 0; i < rows * columns; i++) {\n            const pixel = shouldInvert ? 0xff - Math.trunc(result[i]) : Math.trunc(result[i]);\n            rgbaPixels[p++] = pixel;\n            rgbaPixels[p++] = pixel;\n            rgbaPixels[p++] = pixel;\n            rgbaPixels[p++] = 0xff;\n        }\n        return {\n            pixelData: rgbaPixels,\n            width: columns,\n            height: rows,\n        };\n    }\n}\n//#endregion\n//# sourceMappingURL=Pipeline.js.map","export const GrayscaleShader = `\nstruct ImageFrame {\n  size: vec2<u32>, // x: columns, y: rows\n  scale: vec2<f32>, // x: slope, y: intercept\n  window: vec2<f32>, // x: center, y: width\n  minMax: vec2<f32>, // x: min, y: max\n  pixelData: array<f32>\n}\n\n@group(0) @binding(0) var<storage, read> imageFrame: ImageFrame;\n@group(0) @binding(1) var<storage, read_write> renderedPixelData: array<f32>;\n\n@compute @workgroup_size(8, 8)\nfn main(\n  @builtin(global_invocation_id) global_id: vec3<u32>\n){\n  if(global_id.x > imageFrame.size.x || global_id.y > imageFrame.size.y) {\n    return;\n  }\n\n  let idx = (imageFrame.size.x * global_id.y) + global_id.x;\n  let p = imageFrame.pixelData[idx];\n  \n  // Rescale LUT\n  let s = p * imageFrame.scale.x + imageFrame.scale.y;\n\n  // VOI LUT\n  let centerMin05 = imageFrame.window.x - 0.5;\n  let widthMin1 = imageFrame.window.y - 1.0;\n  let widthDiv2 = widthMin1 / 2.0;\n  let v = (((s - centerMin05) / widthMin1 + 0.5) * 255.0);\n  \n  let c = clamp(v, 0.0, 255.0);\n\n  renderedPixelData[idx] = c;\n}\n`;\n//# sourceMappingURL=shaders.js.map","export function toTypedPixelData(pixelData, pixelRepresentation, bitsAllocated, bitsStored, highBit) {\n    let typedPixelData;\n    if (bitsStored === 8 && highBit === 7 && bitsAllocated === 8) {\n        typedPixelData = pixelData;\n    }\n    else if (bitsAllocated <= 16) {\n        if (pixelRepresentation === 0) {\n            typedPixelData = new Uint16Array(pixelData.buffer, pixelData.byteOffset, pixelData.byteLength / Uint16Array.BYTES_PER_ELEMENT);\n        }\n        else {\n            const u16 = new Uint16Array(pixelData.buffer, pixelData.byteOffset, pixelData.byteLength / Uint16Array.BYTES_PER_ELEMENT);\n            typedPixelData = new Int16Array(u16);\n        }\n    }\n    else {\n        throw new Error(`Unsupported pixel data value for bits stored: ${bitsStored}`);\n    }\n    return typedPixelData;\n}\nexport function getNumberValues(dataSet, tag, minimumLength) {\n    if (!dataSet) {\n        throw new Error('Dataset is required');\n    }\n    const valueAsString = dataSet.string(tag);\n    if (!valueAsString) {\n        return undefined;\n    }\n    const split = valueAsString.split('\\\\');\n    if (minimumLength && split.length < minimumLength) {\n        return undefined;\n    }\n    return split.map((v) => parseFloat(v));\n}\nexport function calculateMinMaxPixelValues(pixelData) {\n    let minPixelValue = pixelData[0];\n    let maxPixelValue = minPixelValue;\n    for (let i = 0; i < pixelData.length; i++) {\n        const currentValue = pixelData[i];\n        if (currentValue < minPixelValue) {\n            minPixelValue = currentValue;\n        }\n        else if (currentValue > maxPixelValue) {\n            maxPixelValue = currentValue;\n        }\n    }\n    return { minPixelValue, maxPixelValue };\n}\n//# sourceMappingURL=utils.js.map","import dicomParser from 'dicom-parser';\nimport { Pipeline } from './Pipeline';\nimport { calculateMinMaxPixelValues, getNumberValues, toTypedPixelData } from './utils';\n/**\n * Gets the pixel data from a dataset.\n */\nfunction getPixelData(dataset, frameIndex = 0) {\n    const pixelDataElement = dataset.elements['x7fe00010'] || dataset.elements['x7fe00008'];\n    if (!pixelDataElement) {\n        throw new Error('Pixel data element was not found');\n    }\n    if (pixelDataElement.encapsulatedPixelData) {\n        throw new Error('Encapsulated pixel data is not supported');\n    }\n    return getUncompressedImageFrame(dataset, frameIndex);\n}\n/**\n * Gets the uncompressed pixel data from a dataset.\n */\nfunction getUncompressedImageFrame(dataset, frameIndex) {\n    const pixelDataElement = dataset.elements['x7fe00010'] || dataset.elements['x7fe00008'];\n    const bitsAllocated = dataset.uint16('x00280100');\n    const rows = dataset.uint16('x00280010');\n    const columns = dataset.uint16('x00280011');\n    const samplesPerPixel = dataset.uint16('x00280002');\n    if (!pixelDataElement) {\n        throw new Error('Pixel data element is missing');\n    }\n    if (!bitsAllocated || !rows || !columns || !samplesPerPixel) {\n        throw new Error(`Missing required attributes [allocated: ${bitsAllocated}, rows: ${rows}, columns: ${columns}, samples: ${samplesPerPixel}]`);\n    }\n    const pixelDataOffset = pixelDataElement.dataOffset;\n    const pixelsPerFrame = rows * columns * samplesPerPixel;\n    if (bitsAllocated === 8) {\n        const frameOffset = pixelDataOffset + frameIndex * pixelsPerFrame;\n        if (frameOffset >= dataset.byteArray.length) {\n            throw new Error('Frame exceeds size of pixel data');\n        }\n        return new Uint8Array(dataset.byteArray.buffer.slice(frameOffset, frameOffset + pixelsPerFrame));\n    }\n    else if (bitsAllocated === 16) {\n        const frameOffset = pixelDataOffset + frameIndex * pixelsPerFrame * 2;\n        if (frameOffset >= dataset.byteArray.length) {\n            throw new Error('Frame exceeds size of pixel data');\n        }\n        return new Uint8Array(dataset.byteArray.buffer.slice(frameOffset, frameOffset + pixelsPerFrame * 2));\n    }\n    throw new Error(`Unsupported pixel format [Bits allocated: ${bitsAllocated}]`);\n}\n/**\n * Renders a dataset.\n */\nexport async function render(gpuDevice, dicomDataBuffer, options) {\n    if (!gpuDevice) {\n        throw new Error('GPU device is required');\n    }\n    if (!dicomDataBuffer) {\n        throw new Error('DICOM data buffer is required');\n    }\n    options = options || {};\n    // Parse DICOM dataset\n    const dataset = dicomParser.parseDicom(dicomDataBuffer);\n    if (!dataset) {\n        throw new Error('Failed to parse DICOM data');\n    }\n    // Extract transfer syntax UID\n    const transferSyntaxUid = dataset.string('x00020010');\n    if (!transferSyntaxUid) {\n        throw new Error('Transfer syntax UID is missing');\n    }\n    // Extract pixel data\n    const pixelData = getPixelData(dataset, options.frameIndex || 0);\n    if (!pixelData) {\n        throw new Error('Pixel data is missing');\n    }\n    // Extract dimensions\n    const rows = dataset.uint16('x00280010');\n    const columns = dataset.uint16('x00280011');\n    if (!rows || !columns) {\n        throw new Error('Rows and columns are required');\n    }\n    // Make a typed array from pixel data\n    const pixelRepresentation = dataset.uint16('x00280103') || 0;\n    const bitsAllocated = dataset.uint16('x00280100') || 0;\n    const bitsStored = dataset.uint16('x00280101') || bitsAllocated;\n    const highBit = dataset.uint16('x00280102') || bitsStored - 1;\n    if (bitsAllocated !== 8 && bitsAllocated !== 16) {\n        throw new Error(`Invalid bits allocated value [bits: ${bitsAllocated}]`);\n    }\n    const typedPixelData = toTypedPixelData(pixelData, pixelRepresentation, bitsAllocated, bitsStored, highBit);\n    // Calculate min and max pixel values\n    const { minPixelValue, maxPixelValue } = calculateMinMaxPixelValues(typedPixelData);\n    // Determine window center and width\n    const rescaleIntercept = dataset.floatString('x00281052') || 0.0;\n    const rescaleSlope = dataset.floatString('x00281053') || 1.0;\n    const wc = getNumberValues(dataset, 'x00281050', 1);\n    let windowCenter = Array.isArray(wc) ? wc[0] : wc;\n    const ww = getNumberValues(dataset, 'x00281051', 1);\n    let windowWidth = Array.isArray(ww) ? ww[0] : ww;\n    if (windowCenter === undefined || windowWidth === undefined) {\n        const maxVoi = maxPixelValue * rescaleSlope + rescaleIntercept;\n        const minVoi = minPixelValue * rescaleSlope + rescaleIntercept;\n        windowWidth = maxVoi - minVoi;\n        windowCenter = (maxVoi + minVoi) / 2;\n    }\n    const imageFrame = {\n        samplesPerPixel: dataset.uint16('x00280002') || 1,\n        photometricInterpretation: dataset.string('x00280004') || '',\n        planarConfiguration: dataset.uint16('x00280006') || 0,\n        rows,\n        columns,\n        bitsAllocated,\n        bitsStored,\n        highBit,\n        rescaleIntercept,\n        rescaleSlope,\n        pixelRepresentation,\n        minPixelValue,\n        maxPixelValue,\n        windowCenter,\n        windowWidth,\n        pixelData: typedPixelData,\n    };\n    const pipeline = Pipeline.create(gpuDevice, imageFrame);\n    const renderingResult = await pipeline.render(imageFrame, options);\n    return renderingResult;\n}\n//# sourceMappingURL=index.js.map"],"names":["module","exports","r","a","e","t","s","d","f","n","o","l","u","p","q","T","b","k","L","N","J","j","w","y","g","x","M","V","B","A","W","K","_","G","I","F","S","h","AE","AS","AT","CS","DA","DS","DT","FL","FD","IS","LO","LT","OB","OD","OF","OW","PN","SH","SL","SQ","SS","ST","TM","UI","UL","UN","UR","US","UT","parseInt","isNaN","familyName","split","givenName","middleName","prefix","suffix","length","substring","i","Math","pow","concat","hours","minutes","seconds","fractionalSeconds","year","month","day","vr","tag","call","toString","string","uint32","toUpperCase","uint16","int16","int32","double","float","omitPrivateAttibutes","maxElementLength","elements","items","push","dataSet","dataOffset","c","byteArray","m","fragments","position","encapsulatedPixelData","hadUndefinedLength","basicOffsetTable","offset","readUint16","substr","readUint32","seek","warnings","String","fromCharCode","v","enumerable","configurable","writable","Object","defineProperty","key","P","parser","TypeError","this","byteArrayParser","value","readInt16","readInt32","readFloat","readDouble","match","Value","trim","replace","parseFloat","prototype","E","D","vrCallback","O","U","readFixedString","arguments","untilTag","Buffer","alloc","Uint8Array","Float32Array","buffer","Float64Array","slice","byteOffset","C","TransferSyntaxUID","getSize","x00020010","z","Error","process","inflater","inflateRawSync","copy","pako","inflateRaw","set","exception","hasOwnProperty","R","H","Q","$","console","log","default","isStringVr","isPrivateTag","parsePN","parseTM","parseDA","explicitElementToString","explicitDataSetToJS","createJPEGBasicOffsetTable","parseDicomDataSetExplicit","parseDicomDataSetImplicit","version","bigEndianByteArrayParser","ByteStream","sharedCopy","DataSet","findAndSetUNElementLength","findEndOfEncapsulatedElement","findItemDelimitationItemAndSetElementLength","littleEndianByteArrayParser","parseDicom","readDicomElementExplicit","readDicomElementImplicit","readEncapsulatedImageFrame","readEncapsulatedPixelData","readEncapsulatedPixelDataFromFragments","readPart10Header","readSequenceItemsExplicit","readSequenceItemsImplicit","readSequenceItem","readTag","LEI","LEE","get","Symbol","toStringTag","__esModule","create","bind","require$$0","PipelineCache","_createClass","max","_classCallCheck","_defineProperty","cache","Map","item","delete","has","size","firstKey","keys","next","undefined","Pipeline","gpuDevice","_render","_asyncToGenerator","_regenerator","_callee","imageFrame","options","_context","_x","_x2","apply","photometricInterpretation","cachedPipeline","pipelineCache","grayscalePipeline","GrayscalePipeline","initialize","_Pipeline2","_this","_len","args","Array","_key","_callSuper","_inherits","shaderModule","createShaderModule","label","code","bindGroupLayout","createBindGroupLayout","entries","binding","visibility","GPUShaderStage","COMPUTE","type","pipelineLayout","createPipelineLayout","bindGroupLayouts","computePipeline","createComputePipeline","layout","compute","entryPoint","device","_render2","_callee2","rows","columns","rescaleSlope","rescaleIntercept","windowCenter","windowWidth","pixelData","minPixelValue","maxPixelValue","shouldInvert","dataSize","bufferSize","alignedBufferSize","imageFrameBuffer","renderedPixelDataBuffer","stagingBuffer","bindGroup","typedPixelData","float32PixelData","encoder","computePass","commandBuffer","result","rgbaPixels","pixel","_context2","ceil","createBuffer","usage","GPUBufferUsage","STORAGE","COPY_DST","COPY_SRC","MAP_READ","createBindGroup","resource","queue","writeBuffer","Int32Array","createCommandEncoder","beginComputePass","setPipeline","setBindGroup","dispatchWorkgroups","end","copyBufferToBuffer","finish","submit","mapAsync","GPUMapMode","READ","getMappedRange","unmap","destroy","trunc","width","height","_x3","_x4","toTypedPixelData","pixelRepresentation","bitsAllocated","bitsStored","highBit","Uint16Array","byteLength","BYTES_PER_ELEMENT","u16","Int16Array","getNumberValues","minimumLength","valueAsString","map","calculateMinMaxPixelValues","currentValue","getPixelData","dataset","frameIndex","pixelDataElement","samplesPerPixel","pixelDataOffset","pixelsPerFrame","frameOffset","getUncompressedImageFrame","dicomDataBuffer","_calculateMinMaxPixel","wc","ww","maxVoi","minVoi","pipeline","renderingResult","dicomParser","floatString","isArray","planarConfiguration","render"],"mappings":"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","x_google_ignoreList":[0]}